(function(t){function e(e){for(var r,s,o=e[0],u=e[1],l=e[2],f=0,d=[];f<o.length;f++)s=o[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],r=!0,o=1;o<i.length;o++){var u=i[o];0!==n[u]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var r={},n={app:0},a=[];function s(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=r,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/grid-trading/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"5c0b":function(t,e,i){"use strict";var r=i("e332"),n=i.n(r);n.a},cd49:function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),i("div",{staticClass:"section"},[i("div",{staticClass:"header"},t._l(t.config,(function(e,r){return i("div",{key:e.name,staticClass:"group"},[i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("网格名称")]),i("input",{attrs:{disabled:""},domProps:{value:e.name}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("价格")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price,expression:"item.price",modifiers:{number:!0}}],attrs:{disabled:0!=r},domProps:{value:e.price},on:{input:function(i){i.target.composing||t.$set(e,"price",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("￥\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("网格百分比")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.percentage,expression:"item.percentage",modifiers:{number:!0}}],domProps:{value:e.percentage},on:{input:function(i){i.target.composing||t.$set(e,"percentage",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("%\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("购买份数")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.buyAmount,expression:"item.buyAmount",modifiers:{number:!0}}],domProps:{value:e.buyAmount},on:{input:function(i){i.target.composing||t.$set(e,"buyAmount",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("网格数")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.gridCount,expression:"item.gridCount",modifiers:{number:!0}}],domProps:{value:e.gridCount},on:{input:function(i){i.target.composing||t.$set(e,"gridCount",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("倍数")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.retainProfitMultiple,expression:"item.retainProfitMultiple",modifiers:{number:!0}}],attrs:{disabled:!e.isRetainProfit},domProps:{value:e.retainProfitMultiple},on:{input:function(i){i.target.composing||t.$set(e,"retainProfitMultiple",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("加码百分比")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.morePercentage,expression:"item.morePercentage",modifiers:{number:!0}}],attrs:{disabled:!e.isMore},domProps:{value:e.morePercentage},on:{input:function(i){i.target.composing||t.$set(e,"morePercentage",t._n(i.target.value))},blur:function(e){return t.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.isRetainProfit,expression:"item.isRetainProfit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isRetainProfit)?t._i(e.isRetainProfit,null)>-1:e.isRetainProfit},on:{change:function(i){var r=e.isRetainProfit,n=i.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=t._i(r,s);n.checked?o<0&&t.$set(e,"isRetainProfit",r.concat([s])):o>-1&&t.$set(e,"isRetainProfit",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(e,"isRetainProfit",a)}}}),t._v("\n          留利润\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.isMore,expression:"item.isMore"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isMore)?t._i(e.isMore,null)>-1:e.isMore},on:{change:function(i){var r=e.isMore,n=i.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=t._i(r,s);n.checked?o<0&&t.$set(e,"isMore",r.concat([s])):o>-1&&t.$set(e,"isMore",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(e,"isMore",a)}}}),t._v("\n          逐格加码\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("所需资金")]),i("input",{attrs:{disabled:""},domProps:{value:t._f("toFixed")(t.totalValue(r))}}),t._v("￥\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("总盈利金额")]),i("input",{attrs:{disabled:""},domProps:{value:t._f("toFixed")(t.totalProfitValue(r))}}),t._v("￥\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[t._v("总盈利比例")]),i("input",{attrs:{disabled:""},domProps:{value:t._f("toFixed")(t.totalProfitValue(r)/t.totalValue(r)*100)}}),t._v("%\n        ")])])})),0),i("table",{staticClass:"table"},[t._m(1),i("tbody",t._l(t.sortGrid,(function(e,r){return i("tr",{key:e.name+e.index,class:t.gridClass(e)},[i("td",[t._v(t._s(r+1))]),i("td",[t._v(t._s(e.name))]),i("td",[t._v(t._s(t._f("toFixed")(e.gear)))]),i("td",[t._v(t._s(t._f("toFixed")(e.buyPrice))+"￥")]),i("td",[t._v(t._s(t._f("toFixed")(e.sellOutPrice))+"￥")]),i("td",[t._v(t._s(t._f("toFixed")(e.cost))+"￥")]),i("td",[t._v(t._s(t._f("toFixed")(e.buyAmount,0)))]),i("td",[t._v(t._s(t._f("toFixed")(e.buyValue))+"￥")]),i("td",[t._v(t._s(t._f("toFixed")(e.sellAmount,0)))]),i("td",[t._v(t._s(t._f("toFixed")(e.sellValue))+"￥")]),i("td",[t._v(t._s(t._f("toFixed")(e.profitValue))+"￥")]),i("td",[t._v(t._s(t._f("toFixed")(e.profitPercentage))+"%")]),i("td",[t._v(t._s(t._f("toFixed")(e.retainAmount,0)))]),isNaN(e.retainProfitValue)?i("td",[t._v("无法保留")]):i("td",[t._v(t._s(t._f("toFixed")(e.retainProfitValue)))])])})),0)])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-header"},[t._v("\n    网格交易策略生成器,参考了ETF拯救世界的文章\n    "),i("a",{staticClass:"repo-link",attrs:{href:"https://github.com/ChenZhuoSteve/grid-trading",title:"查看源代码"}},[i("img",{staticClass:"github-icon",attrs:{src:"GitHub-Mark-32px.png"}}),t._v("查看源码\n    ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("th",[t._v("序号")]),i("th",[t._v("类型")]),i("th",[t._v("档位")]),i("th",[t._v("买入价格")]),i("th",[t._v("卖出价格")]),i("th",[t._v("成本")]),i("th",[t._v("买入数量")]),i("th",[t._v("买入金额")]),i("th",[t._v("卖出数量")]),i("th",[t._v("卖出金额")]),i("th",[t._v("盈利金额")]),i("th",[t._v("盈利比例")]),i("th",[t._v("保留数量")]),i("th",[t._v("保留利润")])])}],s=(i("55dd"),i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),i("c5f6"),i("5df2"),i("d225")),o=i("b0b4"),u=i("308d"),l=i("6bb5"),c=i("4e2b"),f=i("9ab4"),d=i("60a3"),m=function(){function t(e,i,r,n,a,o,u){Object(s["a"])(this,t),this.index=0,this.name="",this.gear=0,this.buyPrice=0,this.sellOutPrice=0,this.buyAmount=0,this.buyValue=0,this.sellAmount=0,this.sellValue=0,this.profitValue=0,this.profitPercentage=0,this.retainAmount=0,this.retainProfitValue=0,this.cost=0,this.name=e,this.index=i,this.gear=r,this.buyPrice=n,this.sellOutPrice=a,this.buyAmount=o,this.buyValue=n*o,this.sellAmount=o,this.sellValue=a*this.sellAmount,this.profitValue=this.sellValue-this.buyValue,this.profitPercentage=this.profitValue/this.buyValue*100,this.cost=u}return Object(o["a"])(t,[{key:"retainProfit",value:function(t){this.retainProfitValue=this.profitValue*t,this.retainProfitValue>this.buyAmount?(this.retainProfitValue=NaN,this.sellValue=0,this.sellAmount=0,this.retainAmount=0):(this.sellValue=this.sellValue-this.retainProfitValue,this.sellAmount=this.sellValue/this.sellOutPrice,this.retainAmount=this.buyAmount-this.sellAmount)}},{key:"getBuyValue",value:function(){return this.buyValue}},{key:"getBuyPrice",value:function(){return this.buyPrice}},{key:"getName",value:function(){return this.name}},{key:"getProfitValue",value:function(){return this.profitValue}},{key:"getBuyAmount",value:function(){return this.buyAmount}}]),t}(),v=function t(e){Object(s["a"])(this,t),this.name="",this.price=1,this.percentage=5,this.buyAmount=1e3,this.gridCount=20,this.isRetainProfit=!1,this.retainProfitMultiple=1,this.isMore=!1,this.morePercentage=5,this.name=e},p=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).call(this)),t.config=[new v("小网"),new v("中网"),new v("大网")],t.config[1].percentage=15,t.config[1].gridCount=0,t.config[2].percentage=30,t.config[2].gridCount=0,t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"mounted",value:function(){this.$watch((function(){return this.config[0].price}),(function(){this.config[1].price=this.config[0].price*(1-this.config[1].percentage/100),this.config[2].price=this.config[0].price*(1-this.config[2].percentage/100),this.config[1].price=Number.parseFloat(this.config[1].price.toFixed(3)),this.config[2].price=Number.parseFloat(this.config[2].price.toFixed(3))}))}},{key:"totalValue",value:function(t){return this.gridList[t].reduce((function(t,e){return t+e.getBuyValue()}),0)}},{key:"totalProfitValue",value:function(t){return this.gridList[t].reduce((function(t,e){return t+e.getProfitValue()}),0)}},{key:"gridClass",value:function(t){return{"small-grid":"小网"===t.getName(),"middle-grid":"中网"===t.getName(),"big-grid":"大网"===t.getName()}}},{key:"gridList",get:function(){var t=[],e=!0,i=!1,r=void 0;try{for(var n,a=this.config[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){for(var s=n.value,o=s.percentage/100,u=[],l=0;l<s.gridCount;++l)if(0!==l||"中网"!==s.name&&"大网"!==s.name){var c=1-l*o;if(!(c<0)){var f=s.price*c,d=s.price*(c+o),v=s.buyAmount,p=0;if(s.isMore&&(v=s.buyAmount*(1+s.morePercentage/100*l)),0===l)p=f;else{var h=u.reduce((function(t,e){return t+e.getBuyAmount()*e.getBuyPrice()}),0)+f*v,b=u.reduce((function(t,e){return t+e.getBuyAmount()}),0)+v;p=h/b}var g=new m(s.name,l+1,c,f,d,v,p);s.isRetainProfit&&g.retainProfit(s.retainProfitMultiple),u.push(g)}}t.push(u)}}catch(_){i=!0,r=_}finally{try{e||null==a.return||a.return()}finally{if(i)throw r}}return t}},{key:"sortGrid",get:function(){return this.gridList.flat().sort((function(t,e){return e.getBuyPrice()-t.getBuyPrice()}))}}]),e}(d["b"]);p=Object(f["a"])([Object(d["a"])({filters:{toFixed:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return t?"number"===typeof t?t.toFixed(e):t:""}}})],p);var h=p,b=h,g=(i("5c0b"),i("2877")),_=Object(g["a"])(b,n,a,!1,null,null,null),y=_.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(y)}}).$mount("#app")},e332:function(t,e,i){}});
//# sourceMappingURL=app.0f6f17a8.js.map