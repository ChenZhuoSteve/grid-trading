(function(e){function t(t){for(var r,s,o=t[0],u=t[1],l=t[2],d=0,f=[];d<o.length;d++)s=o[d],n[s]&&f.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],r=!0,o=1;o<i.length;o++){var u=i[o];0!==n[u]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var r={},n={app:0},a=[];function s(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=r,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/grid-trading/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"5c0b":function(e,t,i){"use strict";var r=i("5e27"),n=i.n(r);n.a},"5e27":function(e,t,i){},cd49:function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var r=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"header"},e._l(e.config,function(t,r){return i("div",{key:t.name,staticClass:"group"},[i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("网格名称")]),i("input",{attrs:{disabled:""},domProps:{value:t.name}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("价格")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price,expression:"item.price",modifiers:{number:!0}}],attrs:{disabled:0!=r},domProps:{value:t.price},on:{input:function(i){i.target.composing||e.$set(t,"price",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("￥\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("网格百分比")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.percentage,expression:"item.percentage",modifiers:{number:!0}}],domProps:{value:t.percentage},on:{input:function(i){i.target.composing||e.$set(t,"percentage",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("%\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("购买份数")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.buyAmount,expression:"item.buyAmount",modifiers:{number:!0}}],domProps:{value:t.buyAmount},on:{input:function(i){i.target.composing||e.$set(t,"buyAmount",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("网格数")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.gridCount,expression:"item.gridCount",modifiers:{number:!0}}],domProps:{value:t.gridCount},on:{input:function(i){i.target.composing||e.$set(t,"gridCount",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("倍数")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.retainProfitMultiple,expression:"item.retainProfitMultiple",modifiers:{number:!0}}],attrs:{disabled:!t.isRetainProfit},domProps:{value:t.retainProfitMultiple},on:{input:function(i){i.target.composing||e.$set(t,"retainProfitMultiple",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("加码百分比")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.morePercentage,expression:"item.morePercentage",modifiers:{number:!0}}],attrs:{disabled:!t.isMore},domProps:{value:t.morePercentage},on:{input:function(i){i.target.composing||e.$set(t,"morePercentage",e._n(i.target.value))},blur:function(t){return e.$forceUpdate()}}})]),i("div",{staticClass:"item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isRetainProfit,expression:"item.isRetainProfit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isRetainProfit)?e._i(t.isRetainProfit,null)>-1:t.isRetainProfit},on:{change:function(i){var r=t.isRetainProfit,n=i.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&e.$set(t,"isRetainProfit",r.concat([s])):o>-1&&e.$set(t,"isRetainProfit",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(t,"isRetainProfit",a)}}}),e._v("\n          留利润\n          "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isMore,expression:"item.isMore"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isMore)?e._i(t.isMore,null)>-1:t.isMore},on:{change:function(i){var r=t.isMore,n=i.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&e.$set(t,"isMore",r.concat([s])):o>-1&&e.$set(t,"isMore",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(t,"isMore",a)}}}),e._v("\n          逐格加码\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("所需资金")]),i("input",{attrs:{disabled:""},domProps:{value:e._f("toFixed")(e.totalValue(r))}}),e._v("￥\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("总盈利金额")]),i("input",{attrs:{disabled:""},domProps:{value:e._f("toFixed")(e.totalProfitValue(r))}}),e._v("￥\n        ")]),i("div",{staticClass:"item"},[i("label",{staticClass:"label"},[e._v("总盈利比例")]),i("input",{attrs:{disabled:""},domProps:{value:e._f("toFixed")(e.totalProfitValue(r)/e.totalValue(r)*100)}}),e._v("%\n        ")])])}),0),i("table",{staticClass:"table"},[e._m(0),i("tbody",e._l(e.sortGrid,function(t,r){return i("tr",{key:t.name+t.index,class:e.gridClass(t)},[i("td",[e._v(e._s(r+1))]),i("td",[e._v(e._s(t.name))]),i("td",[e._v(e._s(e._f("toFixed")(t.gear)))]),i("td",[e._v(e._s(e._f("toFixed")(t.buyPrice))+"￥")]),i("td",[e._v(e._s(e._f("toFixed")(t.sellOutPrice))+"￥")]),i("td",[e._v(e._s(e._f("toFixed")(t.cost))+"￥")]),i("td",[e._v(e._s(e._f("toFixed")(t.buyAmount,0)))]),i("td",[e._v(e._s(e._f("toFixed")(t.buyValue))+"￥")]),i("td",[e._v(e._s(e._f("toFixed")(t.sellAmount,0)))]),i("td",[e._v(e._s(e._f("toFixed")(t.sellValue))+"￥")]),i("td",[e._v(e._s(e._f("toFixed")(t.profitValue))+"￥")]),i("td",[e._v(e._s(e._f("toFixed")(t.profitPercentage))+"%")]),i("td",[e._v(e._s(e._f("toFixed")(t.retainAmount,0)))]),isNaN(t.retainProfitValue)?i("td",[e._v("无法保留")]):i("td",[e._v(e._s(e._f("toFixed")(t.retainProfitValue)))])])}),0)])])])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("th",[e._v("序号")]),i("th",[e._v("类型")]),i("th",[e._v("档位")]),i("th",[e._v("买入价格")]),i("th",[e._v("卖出价格")]),i("th",[e._v("成本")]),i("th",[e._v("买入数量")]),i("th",[e._v("买入金额")]),i("th",[e._v("卖出数量")]),i("th",[e._v("卖出金额")]),i("th",[e._v("盈利金额")]),i("th",[e._v("盈利比例")]),i("th",[e._v("保留数量")]),i("th",[e._v("保留利润")])])}],s=(i("55dd"),i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),i("c5f6"),i("5df2"),i("d225")),o=i("b0b4"),u=i("308d"),l=i("6bb5"),c=i("4e2b"),d=i("9ab4"),f=i("60a3"),m=function(){function e(t,i,r,n,a,o,u){Object(s["a"])(this,e),this.index=0,this.name="",this.gear=0,this.buyPrice=0,this.sellOutPrice=0,this.buyAmount=0,this.buyValue=0,this.sellAmount=0,this.sellValue=0,this.profitValue=0,this.profitPercentage=0,this.retainAmount=0,this.retainProfitValue=0,this.cost=0,this.name=t,this.index=i,this.gear=r,this.buyPrice=n,this.sellOutPrice=a,this.buyAmount=o,this.buyValue=n*o,this.sellAmount=o,this.sellValue=a*this.sellAmount,this.profitValue=this.sellValue-this.buyValue,this.profitPercentage=this.profitValue/this.buyValue*100,this.cost=u}return Object(o["a"])(e,[{key:"retainProfit",value:function(e){this.retainProfitValue=this.profitValue*e,this.retainProfitValue>this.buyAmount?(this.retainProfitValue=NaN,this.sellValue=0,this.sellAmount=0,this.retainAmount=0):(this.sellValue=this.sellValue-this.retainProfitValue,this.sellAmount=this.sellValue/this.sellOutPrice,this.retainAmount=this.buyAmount-this.sellAmount)}},{key:"getBuyValue",value:function(){return this.buyValue}},{key:"getBuyPrice",value:function(){return this.buyPrice}},{key:"getName",value:function(){return this.name}},{key:"getProfitValue",value:function(){return this.profitValue}},{key:"getBuyAmount",value:function(){return this.buyAmount}}]),e}(),v=function e(t){Object(s["a"])(this,e),this.name="",this.price=1,this.percentage=5,this.buyAmount=1e3,this.gridCount=20,this.isRetainProfit=!1,this.retainProfitMultiple=1,this.isMore=!1,this.morePercentage=5,this.name=t},p=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(u["a"])(this,Object(l["a"])(t).call(this)),e.config=[new v("小网"),new v("中网"),new v("大网")],e.config[1].percentage=15,e.config[1].gridCount=0,e.config[2].percentage=30,e.config[2].gridCount=0,e}return Object(c["a"])(t,e),Object(o["a"])(t,[{key:"onPercentageChanged",value:function(){this.config[1].price=this.config[0].price*(1-this.config[1].percentage/100),this.config[2].price=this.config[0].price*(1-this.config[2].percentage/100),this.config[1].price=Number.parseFloat(this.config[1].price.toFixed(3)),this.config[2].price=Number.parseFloat(this.config[2].price.toFixed(3))}},{key:"totalValue",value:function(e){return this.gridList[e].reduce(function(e,t){return e+t.getBuyValue()},0)}},{key:"totalProfitValue",value:function(e){return this.gridList[e].reduce(function(e,t){return e+t.getProfitValue()},0)}},{key:"gridClass",value:function(e){return{"small-grid":"小网"===e.getName(),"middle-grid":"中网"===e.getName(),"big-grid":"大网"===e.getName()}}},{key:"gridList",get:function(){var e=[],t=!0,i=!1,r=void 0;try{for(var n,a=this.config[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){for(var s=n.value,o=s.percentage/100,u=[],l=0;l<s.gridCount;++l)if(0!==l||"中网"!==s.name&&"大网"!==s.name){var c=1-l*o;if(!(c<0)){var d=s.price*c,f=s.price*(c+o),v=s.buyAmount,p=0;if(s.isMore&&(v=s.buyAmount*(1+s.morePercentage/100*l)),0===l)p=d;else{var h=u.reduce(function(e,t){return e+t.getBuyAmount()*t.getBuyPrice()},0)+d*v,g=u.reduce(function(e,t){return e+t.getBuyAmount()},0)+v;p=h/g}var b=new m(s.name,l+1,c,d,f,v,p);s.isRetainProfit&&b.retainProfit(s.retainProfitMultiple),u.push(b)}}e.push(u)}}catch(_){i=!0,r=_}finally{try{t||null==a.return||a.return()}finally{if(i)throw r}}return e}},{key:"sortGrid",get:function(){return this.gridList.flat().sort(function(e,t){return t.getBuyPrice()-e.getBuyPrice()})}}]),t}(f["b"]);d["a"]([Object(f["c"])("config",{immediate:!0,deep:!0})],p.prototype,"onPercentageChanged",null),p=d["a"]([Object(f["a"])({filters:{toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e?"number"===typeof e?e.toFixed(t):e:""}}})],p);var h=p,g=h,b=(i("5c0b"),i("2877")),_=Object(b["a"])(g,n,a,!1,null,null,null),y=_.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(y)}}).$mount("#app")}});
//# sourceMappingURL=app.b0b609be.js.map